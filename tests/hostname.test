#!/bin/bash

# Copyright 2014 Divya Kothari <divya.s.kothari@gmail.com>
# Copyright 2014 Naha Maggu <maggu.neha@gmail.com>

[ -f testing.sh ] && . testing.sh

#testing "name" "command" "result" "infile" "stdin"

# Use host command to get the hostname
expected_out=$($HOST_BIN_HOSTNAME)

# New hostname
new_hostname="NewHostName.system"

testing "get" "hostname" "$expected_out\n" "" ""

skip_if_not_root

testing "set, get and reset" \
  "hostname $new_hostname; hostname; hostname $expected_out; hostname" \
  "$new_hostname\n$expected_out\n" "" ""
